<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Alunos • Lista</title>
<style>
 body{margin:0;background:#0c0f14;color:#eaeaea;font-family:system-ui,Segoe UI,Roboto,Arial}
 header{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid #1f2530}
 table{width:100%;border-collapse:collapse;background:#111827}
 th,td{padding:10px;border-bottom:1px solid #1f2530;font-size:14px}
 th{color:#9ad1ff;text-align:left}
 a.btn{color:#60a5fa;text-decoration:none}
</style>
</head>
<body>
<header>
  <h1>Alunos • Lista</h1>
  <nav><a href="/admin/index.html" style="color:#9ca3af;text-decoration:none">← Voltar ao Admin</a></nav>
</header>

<main style="padding:16px 24px">
  <table>
    <thead><tr><th>Nome</th><th>Email</th><th>Telefone</th><th>Nº Cadastro</th><th>Criado</th><th></th></tr></thead>
    <tbody id="tb"></tbody>
  </table>
</main>

<script>
async function load(){
  const r = await fetch('/api/alunos/list');
  const j = await r.json();
  const tb = document.getElementById('tb');
  tb.innerHTML='';
  (j.rows||[]).forEach(a=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${a.nome||''}</td>
      <td>${a.email||''}</td>
      <td>${a.telefone||''}</td>
      <td><code>${a.cad_numero||''}</code></td>
      <td>${new Date(a.created_at).toLocaleString()}</td>
      <td><a class="btn" href="/admin/cadastro/editar.html?id=${a.id}">Editar</a></td>
    `;
    tb.appendChild(tr);
  });
}
document.addEventListener('DOMContentLoaded', load);
</script>
</body></html>
